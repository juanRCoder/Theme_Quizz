<section class="section">
  <h1>Categoria: Anime/Manga</h1>
  <div class="containerHeaders">
    <p>
      <b>
        Nivel:
        {{
          optionDifficult === "easy"
            ? "facil"
            : optionDifficult === "medium"
            ? "medio"
            : "dificil"
        }}
      </b>
    </p>
    <p><b>Preguntas:</b> {{ corrects + incorrects }}/20</p>
  </div>

  <!-- Resultado final del nivel -->
  @if (corrects + incorrects + 1 == 21) {
  <p class="result">Resultado Final:</p>
  <div class="boxAnswers">
    <p class="boxAnswers_correct">Correctas: {{ corrects }}</p>
    <p class="boxAnswers_incorrect">Incorrectas: {{ incorrects }}</p>
  </div>

  <!-- Mensajes de animo -->
  <div class="boxMessage">
    @if (corrects <= 10){
    <p>¡No te desanimes! Sigue practicando para mejorar tus resultados.</p>
    } @if (corrects >= 11 && corrects <=15){
    <p>"¡Muy bien! ¡Estás en camino hacia la perfección!"</p>
    } @if (corrects >= 16 && corrects <=20){
    <p>"¡Increíble! ¡Eres un verdadero experto en este tema!"</p>
    }
  </div>

  <!-- Cambios de dificultad -->
  <div class="btnsNextLevel">
    @if (optionDifficult === 'easy'){
    <button (click)="changeLevel('medium')">Siguiente Nivel</button>
    } @if (optionDifficult === 'medium'){
    <button (click)="changeLevel('hard')">Siguiente Nivel</button>
    }
    <!-- Reload -->
    <button (click)="reloadPage()">Reiniciar Nivel</button>
  </div>

  } @else {
  <p class="question">{{ question }}</p>
  <div class="boxOptions">
    <button
      (click)="renderQuestions(); score(true, 0)"
      [ngClass]="{
        firstButton: position === 1,
        secondButton: position === 2,
        thirdButton: position === 3,
        fourthButton: position === 0,
        answerCorrect: answerCorrect
      }"
    >
      {{ correct_answer }}
    </button>
    <button
      (click)="renderQuestions(); score(false, 1)"
      [ngClass]="{
        firstButton: position === 2,
        secondButton: position === 3,
        thirdButton: position === 0,
        fourthButton: position === 1,
        answerIncorrect: answerIncorrect1
      }"
    >
      {{ incorrect_answers[0] }}
    </button>
    <button
      (click)="renderQuestions(); score(false, 2)"
      [ngClass]="{
        firstButton: position === 3,
        secondButton: position === 0,
        thirdButton: position === 1,
        fourthButton: position === 2,
        answerIncorrect: answerIncorrect2
      }"
    >
      {{ incorrect_answers[1] }}
    </button>
    <button
      (click)="renderQuestions(); score(false, 3)"
      [ngClass]="{
        firstButton: position === 0,
        secondButton: position === 1,
        thirdButton: position === 2,
        fourthButton: position === 3,
        answerIncorrect: answerIncorrect3
      }"
    >
      {{ incorrect_answers[2] }}
    </button>
  </div>

  }
  <div class="btnDashboard">
    <a routerLink="/">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
        <path
          d="M177.5 414c-8.8 3.8-19 2-26-4.6l-144-136C2.7 268.9 0 262.6 0 256s2.7-12.9 7.5-17.4l144-136c7-6.6 17.2-8.4 26-4.6s14.5 12.5 14.5 22l0 72 288 0c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32l-288 0 0 72c0 9.6-5.7 18.2-14.5 22z"
        />
      </svg>
    </a>
  </div>
</section>